<%- include('../partials/header.ejs', {isAdmin, isLoggedIn: true}) %>

<!--  div below nav -->

<!-- flex-1 takes the all the remaning vetrical space from the div thats not occupied -->
<body>
  <div class="flex-1 bg-gray-100 flex flex-col items-center">
    <h1 class="text-3xl font-bold mt-8 mb-4 text-center">My Posts</h1>
    <!-- div for actual blog content -->
    <div
      class="w-full max-w-4xl border border-gray-300 rounded-lg p-8 bg-white shadow-lg"
    >
      <% posts.forEach(post => { %>
      <div class="mb-6">
        <a
          href="#"
          class="block mb-2 text-xl font-bold text-blue-700 hover:text-blue-900"
          ><%= post.title %></a
        >
        <p class="text-gray-700"><%= post.content %></p>
        <div class="mt-4 flex items-center">
          <a href="/admin/post/edit/<%= post._id %>">
            <button
              class="px-4 py-2 bg-blue-500 text-white rounded-md mr-4 hover:bg-blue-600"
            >
              Edit Post
            </button>
          </a>

          <button
            class="px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600"
            onclick="deleteRecord('<%= post._id %>')"
          >
            Delete Post
          </button>
        </div>
      </div>
      <% }); %>
    </div>
  </div>
</body>

<script src="/javascripts/script.js"></script>

<%- include('../partials/footer.ejs') %>
